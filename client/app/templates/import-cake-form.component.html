<div *ngIf="!active">
    <button class="btn btn-primary" (click)="openForm()">Import Recipe</button>
</div>

<div *ngIf="active" class="import-cake-form">
    <h4 style="text-align: center"><b>Paste a Recipe Here</b></h4>
    <form (ngSubmit)="importCake(importCakeForm.value)" #importCakeForm="ngForm">
        <textarea rows="10" class="form-control" [(ngModel)]="modelString"
                  (keyup)="parsePreview($event)"
                  placeholder="(name)

(description)

(ingredients)

(steps)"></textarea>
        <button type="button" class="btn btn-info"
                [class.disabled]="isEmptyString(modelString)"
                (click)="parsePreview()">
            <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> Preview
        </button>
        <hr>

        <!-- Preview -->
        <h4 style="text-align: center"><b>Preview</b></h4>
        <p><b>Name</b>: {{model.name}}</p>
        <p><b>Description</b>: {{model.description}}</p>
        <p><b>Ingredients</b>: </p>
        <ul>
            <li *ngFor="#ingr of model.ingredients">{{ingr.value}}</li>
        </ul>
        <p><b>Steps</b>: </p>
        <ul>
            <li *ngFor="#step of model.steps">{{step.value}}</li>
        </ul>
        <hr>

        <!-- Main form buttons -->
        <button type="submit" class="btn btn-success"
                [class.disabled]="isEmptyString(modelString)">
            Submit
        </button>
        <button type="button" class="btn btn-danger"
                (click)="closeForm()">
            Cancel
        </button>

    </form>
</div>
