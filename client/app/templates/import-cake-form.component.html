<div *ngIf="!active">
    <button class="btn btn-primary" (click)="openForm()">Import Recipe</button>
</div>

<div *ngIf="active" class="import-cake-form">
    <button class="instruction-sign btn btn-info" type="button"
            data-html="true" data-toggle="tooltip" data-placement="left" data-trigger="click"
            title="{{tooltipTitle}}">
        <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
    </button>

    <h4 style="text-align: center"><b>Paste a Recipe Here</b></h4>
    <form (ngSubmit)="importCake()">
        <textarea rows="10" class="form-control" [(ngModel)]="modelString"></textarea>
        <button type="button" class="btn btn-info"
                [class.disabled]="isEmptyString(modelString)"
                (click)="parsePreview()">
            <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
            <span class="hide-720"> Preview</span>
        </button>
        <div class="ui toggle checkbox">
            <input type="checkbox" [checked]="model.isPublic"
                   (clicked)="model.isPublic = !model.isPublic">
            <label>Share this cake with everyone?</label>
        </div>
        <hr>

        <!-- Preview -->
        <h4 style="text-align: center"><b>Preview</b></h4>
        <p><b>Name</b>: {{model.name}}</p>
        <p><b>Description</b>: {{model.description}}</p>
        <p><b>Ingredients</b>: </p>
        <ul>
            <li *ngFor="#ingr of model.ingredients">{{ingr.value}}</li>
        </ul>
        <p><b>Steps</b>: </p>
        <ul>
            <li *ngFor="#step of model.steps">{{step.value}}</li>
        </ul>
        <hr>

        <!-- Main form buttons -->
        <button type="submit" class="btn btn-success"
                [class.disabled]="isEmptyString(model.name)">
            Submit
        </button>
        <button type="button" class="btn btn-danger"
                (click)="closeForm()">
            Cancel
        </button>
    </form>
</div>
