<div *ngIf="!active">
    <button class="btn btn-primary" (click)="openForm()">Make New Cake</button>
</div>

<div *ngIf="active" class="add-cake-form">
    <h4 style="text-align: center"><b>Make a Cake</b></h4>
    <form (ngSubmit)="addCake(addCakeForm.value)" #addCakeForm="ngForm">
        <!-- Cake name -->
        <div class="form-group">
            <label>Cake Name*</label>
            <input type="text" class="form-control" required
                   [(ngModel)]="model.title">
        </div>
        <hr>

        <!-- Cake description -->
        <div class="form-group">
            <label>Description</label>
            <textarea rows="4" class="form-control" placeholder="(optional)"
                      [(ngModel)]="model.description"></textarea>
        </div>
        <div></div>
        <hr>

        <!-- Ingredients -->
        <label>Ingredients</label><br>
        <editable-item-list
                [placeholder]="'(optional)'"
                [itemList]="model.ingredients"
                (onAdded)="addOptionalItem('ingr', $event)"
                (onRemoved)="removeOptionalItem('ingr', $event)"
                (onSaved)="saveEdit('ingr', $event)">
        </editable-item-list>
        <hr>
        <!-- Steps -->
        <label>Steps</label><br>
        <editable-item-list
                [placeholder]="'(optional)'"
                [itemList]="model.steps"
                (onAdded)="addOptionalItem('step', $event)"
                (onRemoved)="removeOptionalItem('step', $event)"
                (onSaved)="saveEdit('step', $event)">
        </editable-item-list>
        <hr>

        <!-- Main form buttons -->
        <button type="submit" class="btn btn-success"
                [class.disabled]="isEmptyString(model.title)">
            Submit
        </button>
        <button type="button" class="btn btn-danger"
                (click)="closeForm()">
            Cancel
        </button>
    </form>
</div>
