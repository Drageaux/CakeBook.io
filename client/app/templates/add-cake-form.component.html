<div *ngIf="!active">
    <button class="btn btn-primary" (click)="openForm()">Make New Cake</button>
</div>

<div *ngIf="active">
    <form (ngSubmit)="addCake(model.name)" #addCakeForm="ngForm">
        <!-- Cake name -->
        <div class="form-group">
            <label>Cake Name</label>
            <input type="text" class="form-control" required
                   [(ngModel)]="model.name">
            <!--<div [hidden]="name.valid || name.pristine" class="alert alert-danger">-->
            <!--Name is required-->
            <!--</div>-->
        </div>

        <!-- Ingredient list -->
        <div class="form-group">
            <label>Ingredients</label>
            <input type="text" class="form-control" placeholder="(optional)"
                   [(ngModel)]="currIngr.value">
            <button type="button" class="btn btn-primary"
                    [class.disabled]="isEmptyString(currIngr.value)"
                    (click)="addIngredient()">
                Add
            </button>
            <ul>
                <li *ngFor="#ingr of ingrList; #idx = index">
                    {{ingr.value}}
                    <button type="button" class="btn btn-danger"
                            (click)="removeIngredient(idx)">
                        Remove
                    </button>
                </li>
                <!--<div [hidden]="name.valid || name.pristine" class="alert alert-danger">-->
                <!--</div>-->
            </ul>
        </div>

        <!-- Instruction steps -->
        <div class="form-group">
            <label>Steps</label>
            <input type="text" class="form-control" placeholder="(optional)"
                   [(ngModel)]="currStep.value">
            <button type="button" class="btn btn-primary"
                    [class.disabled]="isEmptyString(currStep.value)"
                    (click)="addStep()">
                Add
            </button>
            <ol>
                <li *ngFor="#step of stepList; #idx = index">
                    {{step.value}}
                    <button type="button" class="btn btn-danger"
                            (click)="removeStep(idx)">
                        Remove
                    </button>
                </li>
                <!--<div [hidden]="name.valid || name.pristine" class="alert alert-danger">-->
                <!--</div>-->
            </ol>
        </div>

        <button type="submit" class="btn btn-success"
                [class.disabled]="isEmptyString(model.name)">
            Submit
        </button>
        <button type="button" class="btn btn-danger"
                (click)="closeForm()">
            Cancel
        </button>
    </form>
</div>
